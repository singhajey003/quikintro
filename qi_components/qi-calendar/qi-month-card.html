<!--
This component is responsible for rendering the appointments
for a specific month.

	@group QI Elements
	@element qi-month-card
-->
<link rel="import" href="../../bower_components/iron-flex-layout/iron-flex-layout.html">
<link rel="import" href="qi-day-card.html">
<dom-module id="qi-month-card">
	<style>
		:host {
			display: block;
		}
		.month{
			height: 30px;
			background-color: #17aacf;
			color: white;
			font-family: Verdana;
			padding-left: 5px;
			padding-top: 3px;
		}
		.month-wrapper{
			border: 1px solid #17aacf;
		}
	</style>

	<template>

		<div class="month-wrapper">
		   <div class="month"><span>[[month]]</span></div>


		   <div class="layout vertical">
		   <!-- TODO: Fix this so that we are iterating through days -->

		<iron-pages selected="{{selectedCalPage}}">
			<div class="month-wrapper">
			   <div class="month"><span>[[month]]</span></div>

			   <div class="layout vertical">
			   <!-- TODO: Fix this so that we are iterating through days -->

		   		<template is="dom-repeat" items="[[model]]" as="day">
		   			<qi-day-card model="[[day]]"></qi-day-card>
		   		</template>
			   </div>

			</div>

			<qi-calendar-page id="calendarPage"></qi-calendar-page>
		</iron-pages>
	</template>

	<script>
		Polymer({
			is: 'qi-month-card',
			properties:{

				/**
				 * The name of the month as it will appear at the top
				 * of the card.
				 */

				month: {
					type: String,
					value: ''
				},

				/**
				 * An array of meetings.
				 */
				model: {
					type: Array,
					value: [],
					notify: true
				},

				selectedCalPage:{
					type: Number,
					value: 0
				}
			},

			ready: function(){
				this.addEventListener('card-swipe', function(e){
					this.$.calendarPage.model = e.detail.model;
					this.selectedCalPage = 1;
				});

				this.addEventListener('page-swipe', function(){
					this.selectedCalPage = 0;
				})
			}


		});
	</script>
</dom-module>