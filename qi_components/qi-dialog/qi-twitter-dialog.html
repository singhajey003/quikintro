
<link rel="import" href="../../bower_components/paper-dialog/paper-action-dialog.html">

<polymer-element name="qi-twitter-dialog" attributes="hashtag">


	<template>
		
		<paper-action-dialog id="dialog" backdrop>
		  <link rel="stylesheet" href="dialog.css">

		  <paper-autogrow-textarea id="a1" maxRows="3" >
	  		  <textarea class="tweet" value="{{myTweet}}"></textarea>
	  		</paper-autogrow-textarea>
		  	<div class="tweetSize">{{tweetSize}} Characters</div>

		  	<paper-button dismissive>Cancel</paper-button>
		  	<paper-button id="sendBtn" on-click="{{sendAction}}" affirmative>Send</paper-button>
	  		
		</paper-action-dialog>
	

	</template>

	<script>
	Polymer('qi-twitter-dialog',{

		myTweet: this.hashtag,
		tweetSize: 140,

		hashtagChanged: function(oldValue, newValue){
				this.reset();
		},

		myTweetChanged: function(oldValue, newValue){
			this.tweetSize = 140 - newValue.length;
			if(this.tweetSize > 140){
				this.$.sendBtn.enabled = false;
			}else {
				this.$.sendBtn.enabled = true;
			}
		},

		open: function(){
			this.reset();
			this.$.dialog.open();
		},

		reset: function(){
			this.myTweet = this.hashtag;
		},

		sendAction: function(e){
			this.reset();
			//TODO: implement send action
		}

	});

	</script


</polymer-element>