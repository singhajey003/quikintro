<!--
	This component displays connection invitation information.

	@group QI Elements
	@element qi-invite-card
-->

<link rel="import" href="../../bower_components/iron-flex-layout/iron-flex-layout.html"> 
<link rel="import" href="../../bower_components/paper-button/paper-button.html"> 

<link rel="import" href="../qi-card/qi-card-behavior.html">
<link rel="import" href="../qi-card/qi-collapse-card.html">
<link rel="import" href="../qi-trait/qi-traitlist.html">

<link rel="import" href="../qi-card/qi-card-tray.html">
<link rel="import" href="../qi-avatar/qi-avatar.html">

<dom-module id='qi-invite-card' > 


	<style is="custom-style">
	:host > ::content .senderBlock{
		font-size: 15px;
	}

	:host > ::content .msgBlock {
		font-size: 12px;
		color: #707070;
	}

	:host > ::content > qi-collapse-card{
		background-color: white;
	}
	</style>

	<template>
		
      <qi-collapse-card id="[[domId]]" model="[[model]]" image="[[model.sender.avatar]]">
         <div main>
            <div class="senderBlock">
                  <span class="senderName">[[wholename]]</span>
            </div>
           
         </div>
 
      </qi-collapse-card>

	</template>

	<script>
	var InvCard = Polymer({
   		is: 'qi-invite-card', 

   		behaviors:[QiCardBehavior],

   		properties: {

   			/**
   			 * The numeric ID of the invitation.
   			 */
   			id: {
   				type: Number,
   				readonly: true
   			},


   			/**
   			 * The model for the invitation.
   			 */
   			invite: {
   				type: Object, 
   				readonly: true
   			},

   			/**
   			 * The concatenated first and last names of the sender.
   			 */
   			wholename:{
   				type: String,
   				computed: '_concatName(model.sender.firstName, model.sender.lastName)'
   			},

   			/**
   			 * A flag indicating whether or not the collapse pane is open
   			 */
   			isOpen:{
   				type: Boolean,
   				value: false
   			}
   		},

   		/**
   		 * This method prefixes the ID.
   		 * @param id the ID of the invitation.
   		 */
   		_computeDomId: function(id){
			   return "inv-" + id;
		},

   		/**
   		 * This method concatenates the first and last name of the sender.
   		 * @param firstName the first name of the sender
   		 * @param lastName the last name of the sender
   		 */
   		_concatName: function(firstName, lastName){
   			return firstName + " " + lastName;
   		},

   		/**
   		 * This method is used to accept an invitation.
   		 */
   		acceptAction: function(e){
   			this.fire('show-toast',{text:'Invitation accepted.'});
   		},

   		/**
   		 * This method is used to decline an invitation.
   		 */
   		declineAction: function(e){
   			this.fire('show-toast',{text:'Invitation declined.'});
   		}

	});

	</script>

</dom-module> 