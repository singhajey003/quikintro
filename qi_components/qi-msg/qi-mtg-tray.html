
<link rel="import" href="../../bower_components/paper-fab/paper-fab.html">

<link rel="import" href="../qi-card/qi-card-tray.html">
<link rel="import" href="../qi-card/qi-tray-behavior.html">

<link rel="import" href="../qi-dialog/qi-msg-dialog.html">

<link rel="import" href="qi-invite-card.html">

<dom-module id="qi-mtg-tray">

	<style is="custom-style">
	qi-card-tray{
		--tray-width: 380px;
		background-color: var(--tray-bgcolor);
	}


	</style>



	<template>

		<div class="fab-tray">
			<paper-fab class="selectable" icon="check" on-click="accept" mini></paper-fab>
			<paper-fab class="selectable" icon="close" on-click="decline" mini></paper-fab>
		</div>


		<iron-pages selected="{{selected}}">

		<div>
		    <qi-card-tray id="cardtray">
		        <template is="dom-repeat" items="[[model]]" index-as="id" as="invite">
		            <qi-invite-card id="[[computeDomId('mtg', id)]]" class="selectable-card" model="[[invite]]"></qi-invite-card>
		        </template>
		    </qi-card-tray>
		</div>


		<div>
			<qi-invite-page></qi-invite-page>
		</div>

		</iron-pages>


	</template>


	<script>
	Polymer({
		is: 'qi-mtg-tray',

		behaviors:[QiTrayBehavior],

		properties:{

			selectedCards:{
				type: Array,
				value: []
			},

			selected: {
				type: Number,
				value: 0
			}


		},



		_removeCards: function(){
			//TODO: implement the removal of selected cards.
		},


		accept: function(){
			this._removeCards();
			this.fire('show-toast',{text: 'Invitation(s) Accepted'});

		},

		deleted: function(){
			_removeCards();
			this.fire('show-toast', {text: 'Invitations(s) Deleted'});
		}

	});


	</script>


</dom-module>