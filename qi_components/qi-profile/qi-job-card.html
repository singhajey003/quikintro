<!--
TODO
	core-field -> qi-field?

-->

<!-- <link rel="import" href="../../bower_components/iron-flex-layout/iron-flex-layout.html"> add  to top with other imports  -->
<link rel="import" href="../../bower_components/iron-collapse/iron-collapse.html" >

<link rel="import" href="../qi-toggle/qi-toggle.html">
<link rel="import" href="../qi-trait/qi-traitlist.html">
<link rel="import" href="../qi-field/qi-field.html">
<link rel="import" href="../qi-field/qi-field-decorator.html">
<link rel="import" href="../qi-field/qi-collapse-field.html">

<dom-module id='qi-job-card'  >
	
	<template>
	<link rel="stylesheet" href="../quikintro.css" > 
	<link rel="stylesheet" href="../qi-cards.css" > 
	<link rel="stylesheet" href="qi-job-card.css" > 

	<div class="card-wrapper"> 
		<div class="card job">

			<qi-field label="Title:" value="[[job.title]]"></qi-field>
			<qi-field label="Company:" value="[[job.company.name]]"></qi-field>
			<qi-field label="Start Date:" value="{{startDate}}"></qi-field>

			<qi-field label="End Date:" value="{{endDate)}}"></qi-field>
			

			<qi-collapse-field label="Summary">	
			    <div>[[job.summary]]</div>
			    <div>
			    	<qi-traitlist traits="[[job.skills]]"></qi-traitlist>
			    </div>
			</qi-collapse-field>
		</div>
	</div>

	</template>

	<script>
	Polymer({
   		is: 'qi-job-card', 

   		properties:{

   			/**
   			 * The job object
   			 */
   			job:{type: Object},

   			startDate:{
   				type: String,
   				computed: '_convertDate(job.startDate)'
   			},

   			/**
   			 * The end date
   			 */
   			endDate: {
   				type: String,
   				computed: '_convertDate(job.endDate)'
   			}
   		},

   		_convertDate: function(date){
   			if(date == null){
   				return "Current"	
   			}else{
   				return date.month + "/" + date.year;
   			}
   		},

		toggleAction: function(){
			this.$.collapse.toggle();
		}

	});


	</script>


</dom-module>