
<link rel="import" href="../../bower_components/core-pages/core-pages.html">
<link rel="import" href="../../bower_components/core-toolbar/core-toolbar.html">
<link rel="import" href="../../bower_components/core-icon/core-icon.html">

<link rel="import" href="../qi-global/global.html">
<link rel="import" href="qi-event-card.html">
<link rel="import" href="qi-event-detail.html">
<link rel="import" href="qi-event-notice.html">

<polymer-element name="qi-event-stream" attribute="selectedEventPage events personas">

	<template>
    <link rel="stylesheet" href="../quikintro.css" >
    <link rel="stylesheet" href="../qi-cards.css" >
    <link rel="stylesheet" href="qi-events.css" >
		<style>	
			.container {
/*			padding: 10px;  */
				height: 100%;
			}
		</style>


		<div class="container" layout vertical flex >

			<core-pages id="eventPages" selected="{{selectedEventPage}}" layout vertical flex>
			  <section selected class="padding">
				<h4>My Scheduled Events</h4>
				<div>
					<template repeat="{{event, i in events }}">
						<template if="{{event.rsvp == 'YES' || event.rsvp == 'MAYBE'}}">
						<qi-event-card id="{{i}}" event="{{event}}" on-click="{{cardClickHandler}}"></qi-event-card>
						</template>
					</template>
				</div>

				<h4>Suggested Events</h4>
				<div>
					<template repeat="{{event, i in events }}">
						<template if="{{event.rsvp == null}}">
							<qi-event-card id="{{i}}" event="{{event}}" on-click="{{cardClickHandler}}"></qi-event-card>
						</template>
					</template>


				</div>
			
			 </section>

			<section>
				<qi-event-detail id="detail"></qi-event-detail>
			</section>
		
		</div>
		</core-pages>
	</template>

	<script>
		Polymer('qi-event-stream',{
			selectedEventPage:0,
			
			cardClickHandler: function(e){
				var event = e.srcElement.event;
				console.log("event: " + event);
				var detail = this.$.detail;
				detail.event = event;
				this.selectedEventPage = 1;
			}
			

		});


	</script>



</polymer-element>