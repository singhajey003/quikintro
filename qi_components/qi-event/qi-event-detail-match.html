<!-- <link rel="import" href="../../bower_components/iron-flex-layout/iron-flex-layout.html"> add  to top with other imports  -->
<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/iron-collapse/iron-collapse.html" >

<link rel="import" href="../qi-toggle/qi-toggle.html">
<link rel="import" href="../qi-trait/qi-traitlist.html">
<link rel="import" href="../qi-avatar/qi-avatar.html">


<dom-module id='qi-event-detail-match'  > 

	<link rel="stylesheet" href="../quikintro.css" > 
	<link rel="stylesheet" href="../qi-cards.css" > 
	<link rel="stylesheet" href="qi-events.css" > 
	<link rel="stylesheet" href="../qi-contact/qi-contact-card.css" > 
 	
	<template>

		<div class="card-wrapper"> 

			<div class="card card-photo">

				<qi-avatar url="{{match.avatar}}"></qi-avatar>

				<header>
					<template is="dom-if" if="{{match.firstName == null}}">
					<h3 id="titleBlock">Anonymous</h3>
					</template>

					<template is="dom-if" if="{{match.firstName != null}}">
					<h3 id="titleBlock"><span>{{match.firstName}} {{match.lastName}}</span></h3>
					</template>

					<p class="title">{{match.title}}</p>
					<p class="company">{{match.company}}</p>
					
				</header>

				<div class="summary horizontal justified layout end" >  
					<span id="matchPercentage" class="matchPercentage"><span>{{match.match}}</span>% <span>match</span></span>
					<span id="distanceAway" class="distanceAway"> &lt; <span>{{match.distanceAway}}</span> meters away</span>
				</div>

				<div class="card-actions horizontal justified layout center" >  
					<paper-button role="button" id="invite" on-click="openInviteDialog">Introduce Yourself</paper-button> 
					<qi-toggle isOpened="{{opened}}"></qi-toggle>
				</div>

				<iron-collapse id="collapse" opened="{{opened}}">
					<h4>Traits you have in common:</h4>
				  <qi-traitlist traits="{{match.interests}}"></qi-traitlist>
				</iron-collapse>

			</div>
		
		</div>
	</template>

	<script>
	Polymer({
   		is: 'qi-event-detail-match',

   		properties:{
   			match: {type: Object},
			opened:{type: Boolean, value: false, notify: true},
		},

		openInviteDialog: function(e){
			this.fire("openInviteDialog",{});
		},

	    twitter: function(evt){
	     	var url = "http://twitter.com/" + this.event.hashtag;
	     	window.location = url;
	    }

	});

	</script>


</dom-module> 