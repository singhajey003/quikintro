<link rel="import" href="../../bower_components/polymer/layout.html">
<link rel="import" href="../../bower_components/core-header-panel/core-header-panel.html">
<link rel="import" href="../../bower_components/core-scroll-header-panel/core-scroll-header-panel.html">
<link rel="import" href="../../bower_components/core-icon-button/core-icon-button.html">
<link rel="import" href="../../bower_components/core-toolbar/core-toolbar.html">
<link rel="import" href="../../bower_components/core-input/core-input.html">
<link rel="import" href="../../bower_components/core-icon/core-icon.html">

<link rel="import" href="qi-event-card.html">

<polymer-element name="qi-event-panel">
  <template>

  <link rel="stylesheet" href="../quikintro.css">
  <style>
    .content {
      padding: 30px;
      background-color: #c1e5db;
    }
    
  </style>

  
  <core-ajax auto url="../data/events.json" response="{{response}}" handleAs="json"></core-ajax>
  <core-ajax auto url="../data/personas.json" response="{{personas}}" handleAs="json"></core-ajax>
  
	<core-pages selected="0" id="first">
  <div>
    <core-scroll-header-panel headermargin="128" id="eventHeaderPanel" fixed>
      <core-toolbar>
        <div flex>Events</div>
        <input id="searchText" type="search" placeholder="Search..." />
        <core-icon-button icon="search"></core-icon-button>
      </core-toolbar>
      <div class="content" layout vertical flex>
      
        <template repeat="{{event in response}}">
          <qi-event-card event="{{event}}" personas="{{personas}}"></qi-event-card>
        </template>
        
      </div>

     </core-scroll-header-panel>
   </div>
   <div>Chase Event Page</div>
  <div>Two</div>
  <div>Three</div>
   </core-pages> 
   </template>

   <script>
   
	Polymer('qi-event-panel',{
		ready: function(e){
      this.$.first.onclick = function(e) {
        if(e.target.$.titleBlock.innerHTML === "JP Morgan Healthcare") {
         this.selected = 1;
        }
      };
    }
	});

   </script>

</polymer-element>