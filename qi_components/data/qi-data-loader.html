<!--
This component is responsible for loading data from JSON files into local storage where
it can be easily accessed by other components.

    @group QI Elements
    @element qi-data-loader
-->
<link rel="import" href="../../bower_components/iron-ajax/iron-ajax.html">
<link rel="import" href="../../bower_components/iron-localstorage/iron-localstorage.html">
<dom-module id="qi-data-loader">
    <template>
        <qi-globals id="globals"></qi-globals>
        <iron-ajax auto="true" url="getPersonas.json" on-response="handlePersonas" handle-as="json"></iron-ajax>
        <iron-ajax auto="true" url="events.json" on-response="handleEvents" handle-as="json"></iron-ajax>
        <iron-ajax auto="true" url="contacts.json" on-response="handleContacts" handle-as="json"></iron-ajax>
        <iron-ajax auto="true" url="messages.json" on-response="handleMsgs" handle-as="json"></iron-ajax>
        <iron-ajax auto="true" url="notices.json" on-response="handleNotices" handle-as="json"></iron-ajax>
        <iron-ajax auto="true" url="linkedin-profile.json" on-response="handleProfile" handle-as="json"></iron-ajax>
        <iron-ajax auto="true" url="news/guardian-world.json" on-response="handleNews" handle-as="json"></iron-ajax>
        <iron-ajax auto="true" url="invites.json" on-response="handleInvites" handle-as="json"></iron-ajax>
        <iron-ajax auto="true" url="news/feeds.json" on-response="handleFeeds" handle-as="json"></iron-ajax>
        <iron-ajax auto="true" url="meeting-requests.json" on-response="handleMtgs" handle-as="json"></iron-ajax>
        <iron-ajax auto="true" url="meetings.json" on-response="handleMtgs2" handle-as="json"></iron-ajax>
        <iron-ajax auto="true" url="files/files.json" on-response="handleFiles" handle-as="json"></iron-ajax>
        <iron-ajax auto="true" url="matches.json" on-response="handleMatches" handle-as="json"></iron-ajax>
        <iron-ajax auto="true" url="files/files.json" on-response="handleFiles" handle-as="json"></iron-ajax>


        <iron-localstorage name="invites" value="{{invites}}"></iron-localstorage>
        <iron-localstorage name="msgs" value="{{msgs}}"></iron-localstorage>
        <iron-localstorage name="events" value="{{eventList}}"></iron-localstorage>
        <iron-localstorage name="contacts" value="{{contactList}}"></iron-localstorage>
        <iron-localstorage name="personas" value="{{personaList}}"></iron-localstorage>
        <iron-localstorage name="notices" value="{{noticeList}}"></iron-localstorage>
        <iron-localstorage name="profile" value="{{profile}}"></iron-localstorage>
        <iron-localstorage name="news" value="{{news}}"></iron-localstorage>
        <iron-localstorage name="feeds" value="{{feeds}}"></iron-localstorage>
        <iron-localstorage name="mtgs" value="{{mtgs}}"></iron-localstorage>

        <iron-localstorage name="calendar" value="{{mtgs2}}"></iron-localstorage>

        <iron-localstorage name="files" value="{{files}}"></iron-localstorage>

        <iron-localstorage name="matches" value="{{matches}}"></iron-localstorage>


    </template>
    <script>
    Polymer({
        is: 'qi-data-loader',

        properties: {
            msgs: {
                type: Array
            },
            eventList: {
                type: Array
            },
            contactList: {
                type: Array
            },
            personaList: {
                type: Array
            },
            noticeList:{
            	type: Array
            },
            profile:{
                type: Object
            },
            news:{
                type: Object
            },
            invites:{
                type: Array
            },
            feeds:{
                type: Array
            },
            mtgs:{
                type: Array
            },

            matches:{
                type: Array
            }
            mtgs2:{
                type: Array
            },

            files:{
                type: Array
            }

        },

        handleEvents: function(e) {
            this.eventList = e.detail.response;
        },

        handlePersonas: function(e) {
            this.personaList = e.detail.response;
        },

        handleContacts: function(e) {
            this.contactList = e.detail.response;
        },

        handleMsgs: function(e) {
            this.msgs = e.detail.response;
        },

        handleNotices: function(e){
        	this.noticeList = e.detail.response;
        },
        handleProfile: function(e){
            this.profile = e.detail.response;
        },
        handleNews: function(e){
            this.news = e.detail.response;
        },
        handleInvites: function(e){
            this.invites = e.detail.response;
        },
        handleFeeds: function(e){
            this.feeds = e.detail.response;
        },
        handleMtgs: function(e){
            this.mtgs = e.detail.response;
        },

        handleMtgs2: function(e){
            this.mtgs2 = e.detail.response;
        },

        handleFiles: function(e){
            this.files = e.detail.response;
        },

        handleMatches: function(e){
            this.matches = e.detail.response;
        }

    });
    </script>
</dom-module>
