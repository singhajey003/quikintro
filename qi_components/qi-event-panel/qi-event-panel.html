<link rel="import" href="../../bower_components/polymer/layout.html">
<link rel="import" href="../../bower_components/core-header-panel/core-header-panel.html">
<link rel="import" href="../../bower_components/core-scroll-header-panel/core-scroll-header-panel.html">
<link rel="import" href="../../bower_components/core-icon-button/core-icon-button.html">
<link rel="import" href="../../bower_components/core-toolbar/core-toolbar.html">
<link rel="import" href="../../bower_components/core-input/core-input.html">
<link rel="import" href="../../bower_components/core-icon/core-icon.html">

<link rel="import" href="../qi-event-card/qi-event-card.html">

<polymer-element name="qi-event-panel">
  <template>

  <style>
	#eventHeaderPanel, core-scroll-header-panel {
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        position: absolute;
        display: block;
        visibility: visible;
      }
      .content {
        padding: 30px;
        background-color: #E0E4CC;
      }
      input#searchText[is=core-input] {
        width:100px;
        background-color: #fff;
        font-size: 16px;
        padding: 4px 16px;
      }
  </style>

  
  <core-ajax auto url="../data/events.json" response="{{response}}" handleAs="json"></core-ajax>
  <core-ajax auto url="../data/personas.json" response="{{personas}}" handleAs="json"></core-ajax>
  
	<core-scroll-header-panel headermargin="128" id="eventHeaderPanel" fixed>
    <core-toolbar>
      <div flex>Events</div>
      <input id="searchText" placeholder="Search..." is="core-input" />
      <core-icon-button icon="search"></core-icon-button>
    </core-toolbar>
    <div class="content" layout vertical flex>
    
      <template repeat="{{event in response}}">
        <qi-event-card event="{{event}}" personas="{{personas}}"></qi-event-card>
      </template>
      
    </div>

   </core-scroll-header-panel>
   </template>

   <script>
	Polymer('qi-event-panel',{
		
	    });

   </script>

</polymer-element>